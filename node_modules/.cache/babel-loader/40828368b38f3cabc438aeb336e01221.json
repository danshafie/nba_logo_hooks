{"ast":null,"code":"import _slicedToArray from \"/Users/danshafie/home_projects/nba_logo_hooks/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/danshafie/home_projects/nba_logo_hooks/src/DownloadButton.js\";\nimport React, { useState, useEffect } from \"react\";\n\nvar DownloadButton = function DownloadButton() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      svg = _useState2[0],\n      setSVG = _useState2[1];\n\n  useEffect(function () {\n    // setSVGEle();\n    var svgEle = document.querySelector(\"svg\"); // setSVG(svgEle);\n\n    console.log(\"svg: \", svg);\n  }); //   const setSVGEle = () => {\n  //     const svgEle = document.querySelector(\"svg\");\n  //     setSVG(svgEle);\n  //     console.log(\"svg: \", svg);\n  //     // exportSVG(svg);\n  //   };\n\n  var exportSVG = function exportSVG(svg) {\n    console.log(\"hi\"); // first create a clone of our svg node so we don't mess the original one\n\n    var clone = svg.cloneNode(true); // parse the styles\n\n    parseStyles(clone); // create a doctype\n\n    var svgDocType = document.implementation.createDocumentType(\"svg\", \"-//W3C//DTD SVG 1.1//EN\", \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\"); // a fresh svg document\n\n    var svgDoc = document.implementation.createDocument(\"http://www.w3.org/2000/svg\", \"svg\", svgDocType); // replace the documentElement with our clone\n\n    svgDoc.replaceChild(clone, svgDoc.documentElement); // get the data\n\n    var svgData = new XMLSerializer().serializeToString(svgDoc); // now you've got your svg data, the following will depend on how you want to download it\n    // e.g yo could make a Blob of it for FileSaver.js\n\n    /*\n        var blob = new Blob([svgData.replace(/></g, '>\\n\\r<')]);\n        saveAs(blob, 'myAwesomeSVG.svg');\n        */\n    // here I'll just make a simple a with download attribute\n\n    var a = document.createElement(\"a\");\n    a.href = \"data:image/svg+xml; charset=utf8, \" + encodeURIComponent(svgData.replace(/></g, \">\\n\\r<\"));\n    a.download = \"myAwesomeSVG.svg\";\n    a.innerHTML = \"download the svg file\";\n    document.body.appendChild(a);\n  };\n\n  var parseStyles = function parseStyles(svg) {\n    var styleSheets = [];\n    var i; // get the stylesheets of the document (ownerDocument in case svg is in <iframe> or <object>)\n\n    var docStyles = svg.ownerDocument.styleSheets; // transform the live StyleSheetList to an array to avoid endless loop\n\n    for (i = 0; i < docStyles.length; i++) {\n      styleSheets.push(docStyles[i]);\n    }\n\n    if (!styleSheets.length) {\n      return;\n    }\n\n    var defs = svg.querySelector(\"defs\") || document.createElementNS(\"http://www.w3.org/2000/svg\", \"defs\");\n\n    if (!defs.parentNode) {\n      svg.insertBefore(defs, svg.firstElementChild);\n    }\n\n    svg.matches = svg.matches || svg.webkitMatchesSelector || svg.mozMatchesSelector || svg.msMatchesSelector || svg.oMatchesSelector; // iterate through all document's stylesheets\n\n    for (i = 0; i < styleSheets.length; i++) {\n      var currentStyle = styleSheets[i];\n      var rules;\n\n      try {\n        rules = currentStyle.cssRules;\n      } catch (e) {\n        continue;\n      } // create a new style element\n\n\n      var style = document.createElement(\"style\"); // some stylesheets can't be accessed and will throw a security error\n\n      var l = rules && rules.length; // iterate through each cssRules of this stylesheet\n\n      for (var j = 0; j < l; j++) {\n        // get the selector of this cssRules\n        var selector = rules[j].selectorText; // probably an external stylesheet we can't access\n\n        if (!selector) {\n          continue;\n        } // is it our svg node or one of its children ?\n\n\n        if (svg.matches && svg.matches(selector) || svg.querySelector(selector)) {\n          var cssText = rules[j].cssText; // append it to our <style> node\n\n          style.innerHTML += cssText + \"\\n\";\n        }\n      } // if we got some rules\n\n\n      if (style.innerHTML) {\n        // append the style node to the clone's defs\n        defs.appendChild(style);\n      }\n    }\n  };\n\n  return React.createElement(\"a\", {\n    href: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, \"Download\");\n};\n\nexport default DownloadButton;","map":{"version":3,"sources":["/Users/danshafie/home_projects/nba_logo_hooks/src/DownloadButton.js"],"names":["React","useState","useEffect","DownloadButton","svg","setSVG","svgEle","document","querySelector","console","log","exportSVG","clone","cloneNode","parseStyles","svgDocType","implementation","createDocumentType","svgDoc","createDocument","replaceChild","documentElement","svgData","XMLSerializer","serializeToString","a","createElement","href","encodeURIComponent","replace","download","innerHTML","body","appendChild","styleSheets","i","docStyles","ownerDocument","length","push","defs","createElementNS","parentNode","insertBefore","firstElementChild","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","currentStyle","rules","cssRules","e","style","l","j","selector","selectorText","cssText"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst DownloadButton = () => {\n  const [svg, setSVG] = useState(null);\n\n  useEffect(() => {\n    // setSVGEle();\n    const svgEle = document.querySelector(\"svg\");\n    // setSVG(svgEle);\n    console.log(\"svg: \", svg);\n  });\n\n  //   const setSVGEle = () => {\n  //     const svgEle = document.querySelector(\"svg\");\n  //     setSVG(svgEle);\n  //     console.log(\"svg: \", svg);\n  //     // exportSVG(svg);\n  //   };\n\n  const exportSVG = svg => {\n    console.log(\"hi\");\n    // first create a clone of our svg node so we don't mess the original one\n    var clone = svg.cloneNode(true);\n    // parse the styles\n    parseStyles(clone);\n\n    // create a doctype\n    var svgDocType = document.implementation.createDocumentType(\n      \"svg\",\n      \"-//W3C//DTD SVG 1.1//EN\",\n      \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\"\n    );\n    // a fresh svg document\n    var svgDoc = document.implementation.createDocument(\n      \"http://www.w3.org/2000/svg\",\n      \"svg\",\n      svgDocType\n    );\n    // replace the documentElement with our clone\n    svgDoc.replaceChild(clone, svgDoc.documentElement);\n    // get the data\n    var svgData = new XMLSerializer().serializeToString(svgDoc);\n\n    // now you've got your svg data, the following will depend on how you want to download it\n    // e.g yo could make a Blob of it for FileSaver.js\n    /*\n        var blob = new Blob([svgData.replace(/></g, '>\\n\\r<')]);\n        saveAs(blob, 'myAwesomeSVG.svg');\n        */\n    // here I'll just make a simple a with download attribute\n\n    var a = document.createElement(\"a\");\n    a.href =\n      \"data:image/svg+xml; charset=utf8, \" +\n      encodeURIComponent(svgData.replace(/></g, \">\\n\\r<\"));\n    a.download = \"myAwesomeSVG.svg\";\n    a.innerHTML = \"download the svg file\";\n    document.body.appendChild(a);\n  };\n\n  const parseStyles = svg => {\n    var styleSheets = [];\n    var i;\n    // get the stylesheets of the document (ownerDocument in case svg is in <iframe> or <object>)\n    var docStyles = svg.ownerDocument.styleSheets;\n\n    // transform the live StyleSheetList to an array to avoid endless loop\n    for (i = 0; i < docStyles.length; i++) {\n      styleSheets.push(docStyles[i]);\n    }\n\n    if (!styleSheets.length) {\n      return;\n    }\n\n    var defs =\n      svg.querySelector(\"defs\") ||\n      document.createElementNS(\"http://www.w3.org/2000/svg\", \"defs\");\n    if (!defs.parentNode) {\n      svg.insertBefore(defs, svg.firstElementChild);\n    }\n    svg.matches =\n      svg.matches ||\n      svg.webkitMatchesSelector ||\n      svg.mozMatchesSelector ||\n      svg.msMatchesSelector ||\n      svg.oMatchesSelector;\n\n    // iterate through all document's stylesheets\n    for (i = 0; i < styleSheets.length; i++) {\n      var currentStyle = styleSheets[i];\n\n      var rules;\n      try {\n        rules = currentStyle.cssRules;\n      } catch (e) {\n        continue;\n      }\n      // create a new style element\n      var style = document.createElement(\"style\");\n      // some stylesheets can't be accessed and will throw a security error\n      var l = rules && rules.length;\n      // iterate through each cssRules of this stylesheet\n      for (var j = 0; j < l; j++) {\n        // get the selector of this cssRules\n        var selector = rules[j].selectorText;\n        // probably an external stylesheet we can't access\n        if (!selector) {\n          continue;\n        }\n\n        // is it our svg node or one of its children ?\n        if (\n          (svg.matches && svg.matches(selector)) ||\n          svg.querySelector(selector)\n        ) {\n          var cssText = rules[j].cssText;\n          // append it to our <style> node\n          style.innerHTML += cssText + \"\\n\";\n        }\n      }\n      // if we got some rules\n      if (style.innerHTML) {\n        // append the style node to the clone's defs\n        defs.appendChild(style);\n      }\n    }\n  };\n  return <a href=\"\">Download</a>;\n};\n\nexport default DownloadButton;\n"]},"metadata":{},"sourceType":"module"}