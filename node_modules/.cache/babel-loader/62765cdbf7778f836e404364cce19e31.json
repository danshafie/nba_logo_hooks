{"ast":null,"code":"import _slicedToArray from \"/Users/danshafie/home_projects/nba_logo_hooks/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/danshafie/home_projects/nba_logo_hooks/src/DownloadButton.js\";\nimport React, { useState, useEffect } from \"react\";\n\nvar DownloadButton = function DownloadButton(_ref) {\n  var team = _ref.team;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      svg = _useState2[0],\n      setSVG = _useState2[1];\n\n  useEffect(function () {\n    var svgEle = document.querySelector(\".svg.logo\");\n    setSVG(svgEle);\n  }, []);\n\n  var handleDownload = function handleDownload() {\n    exportSVG(svg);\n  };\n\n  var exportSVG = function exportSVG(svg) {\n    // first create a clone of our svg node so we don't mess the original one\n    var clone = svg.cloneNode(true); // parse the styles\n\n    parseStyles(clone); // create a doctype\n\n    var svgDocType = document.implementation.createDocumentType(\"svg\", \"-//W3C//DTD SVG 1.1//EN\", \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\"); // a fresh svg document\n\n    var svgDoc = document.implementation.createDocument(\"http://www.w3.org/2000/svg\", \"svg\", svgDocType); // replace the documentElement with our clone\n\n    svgDoc.replaceChild(clone, svgDoc.documentElement); // get the data\n\n    var svgData = new XMLSerializer().serializeToString(svgDoc); // now you've got your svg data, the following will depend on how you want to download it\n    // e.g yo could make a Blob of it for FileSaver.js\n\n    /*\n        var blob = new Blob([svgData.replace(/></g, '>\\n\\r<')]);\n        saveAs(blob, 'myAwesomeSVG.svg');\n        */\n    // here I'll just make a simple a with download attribute\n\n    var a = document.createElement(\"a\");\n    a.href = \"data:image/svg+xml; charset=utf8, \" + encodeURIComponent(svgData.replace(/></g, \">\\n\\r<\"));\n    console.log(a.href);\n    a.download = \"yourbeautifulSVG.svg\"; // a.innerHTML = \"download the svg file\";\n\n    a.click(); // document.body.appendChild(a);\n  };\n\n  var parseStyles = function parseStyles(svg) {\n    var styleSheets = [];\n    var i; // get the stylesheets of the document (ownerDocument in case svg is in <iframe> or <object>)\n\n    var docStyles = svg.ownerDocument.styleSheets; // transform the live StyleSheetList to an array to avoid endless loop\n\n    for (i = 0; i < docStyles.length; i++) {\n      styleSheets.push(docStyles[i]);\n    }\n\n    if (!styleSheets.length) {\n      return;\n    }\n\n    var defs = svg.querySelector(\"defs\") || document.createElementNS(\"http://www.w3.org/2000/svg\", \"defs\");\n\n    if (!defs.parentNode) {\n      svg.insertBefore(defs, svg.firstElementChild);\n    }\n\n    svg.matches = svg.matches || svg.webkitMatchesSelector || svg.mozMatchesSelector || svg.msMatchesSelector || svg.oMatchesSelector; // iterate through all document's stylesheets\n\n    for (i = 0; i < styleSheets.length; i++) {\n      var currentStyle = styleSheets[i];\n      var rules;\n\n      try {\n        rules = currentStyle.cssRules;\n      } catch (e) {\n        continue;\n      } // create a new style element\n\n\n      var style = document.createElement(\"style\"); // some stylesheets can't be accessed and will throw a security error\n\n      var l = rules && rules.length; // iterate through each cssRules of this stylesheet\n\n      for (var j = 0; j < l; j++) {\n        // get the selector of this cssRules\n        var selector = rules[j].selectorText; // probably an external stylesheet we can't access\n\n        if (!selector) {\n          continue;\n        } // is it our svg node or one of its children ?\n\n\n        if (svg.matches && svg.matches(selector) || svg.querySelector(selector)) {\n          var cssText = rules[j].cssText; // append it to our <style> node\n\n          style.innerHTML += cssText + \"\\n\";\n        }\n      } // if we got some rules\n\n\n      if (style.innerHTML) {\n        // append the style node to the clone's defs\n        defs.appendChild(style);\n      }\n    }\n  };\n\n  return React.createElement(\"button\", {\n    onClick: handleDownload,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, \"Download\");\n};\n\nexport default DownloadButton;","map":{"version":3,"sources":["/Users/danshafie/home_projects/nba_logo_hooks/src/DownloadButton.js"],"names":["React","useState","useEffect","DownloadButton","team","svg","setSVG","svgEle","document","querySelector","handleDownload","exportSVG","clone","cloneNode","parseStyles","svgDocType","implementation","createDocumentType","svgDoc","createDocument","replaceChild","documentElement","svgData","XMLSerializer","serializeToString","a","createElement","href","encodeURIComponent","replace","console","log","download","click","styleSheets","i","docStyles","ownerDocument","length","push","defs","createElementNS","parentNode","insertBefore","firstElementChild","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","currentStyle","rules","cssRules","e","style","l","j","selector","selectorText","cssText","innerHTML","appendChild"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst DownloadButton = ({ team }) => {\n  const [svg, setSVG] = useState(null);\n\n  useEffect(() => {\n    const svgEle = document.querySelector(\".svg.logo\");\n    setSVG(svgEle);\n  }, []);\n\n  const handleDownload = () => {\n    exportSVG(svg);\n  };\n\n  const exportSVG = svg => {\n    // first create a clone of our svg node so we don't mess the original one\n    var clone = svg.cloneNode(true);\n    // parse the styles\n    parseStyles(clone);\n\n    // create a doctype\n    var svgDocType = document.implementation.createDocumentType(\n      \"svg\",\n      \"-//W3C//DTD SVG 1.1//EN\",\n      \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\"\n    );\n    // a fresh svg document\n    var svgDoc = document.implementation.createDocument(\n      \"http://www.w3.org/2000/svg\",\n      \"svg\",\n      svgDocType\n    );\n    // replace the documentElement with our clone\n    svgDoc.replaceChild(clone, svgDoc.documentElement);\n    // get the data\n    var svgData = new XMLSerializer().serializeToString(svgDoc);\n\n    // now you've got your svg data, the following will depend on how you want to download it\n    // e.g yo could make a Blob of it for FileSaver.js\n    /*\n        var blob = new Blob([svgData.replace(/></g, '>\\n\\r<')]);\n        saveAs(blob, 'myAwesomeSVG.svg');\n        */\n    // here I'll just make a simple a with download attribute\n\n    var a = document.createElement(\"a\");\n    a.href =\n      \"data:image/svg+xml; charset=utf8, \" +\n      encodeURIComponent(svgData.replace(/></g, \">\\n\\r<\"));\n    console.log(a.href);\n    a.download = \"yourbeautifulSVG.svg\";\n    // a.innerHTML = \"download the svg file\";\n    a.click();\n    // document.body.appendChild(a);\n  };\n\n  const parseStyles = svg => {\n    var styleSheets = [];\n    var i;\n    // get the stylesheets of the document (ownerDocument in case svg is in <iframe> or <object>)\n    var docStyles = svg.ownerDocument.styleSheets;\n\n    // transform the live StyleSheetList to an array to avoid endless loop\n    for (i = 0; i < docStyles.length; i++) {\n      styleSheets.push(docStyles[i]);\n    }\n\n    if (!styleSheets.length) {\n      return;\n    }\n\n    var defs =\n      svg.querySelector(\"defs\") ||\n      document.createElementNS(\"http://www.w3.org/2000/svg\", \"defs\");\n    if (!defs.parentNode) {\n      svg.insertBefore(defs, svg.firstElementChild);\n    }\n    svg.matches =\n      svg.matches ||\n      svg.webkitMatchesSelector ||\n      svg.mozMatchesSelector ||\n      svg.msMatchesSelector ||\n      svg.oMatchesSelector;\n\n    // iterate through all document's stylesheets\n    for (i = 0; i < styleSheets.length; i++) {\n      var currentStyle = styleSheets[i];\n\n      var rules;\n      try {\n        rules = currentStyle.cssRules;\n      } catch (e) {\n        continue;\n      }\n      // create a new style element\n      var style = document.createElement(\"style\");\n      // some stylesheets can't be accessed and will throw a security error\n      var l = rules && rules.length;\n      // iterate through each cssRules of this stylesheet\n      for (var j = 0; j < l; j++) {\n        // get the selector of this cssRules\n        var selector = rules[j].selectorText;\n        // probably an external stylesheet we can't access\n        if (!selector) {\n          continue;\n        }\n\n        // is it our svg node or one of its children ?\n        if (\n          (svg.matches && svg.matches(selector)) ||\n          svg.querySelector(selector)\n        ) {\n          var cssText = rules[j].cssText;\n          // append it to our <style> node\n          style.innerHTML += cssText + \"\\n\";\n        }\n      }\n      // if we got some rules\n      if (style.innerHTML) {\n        // append the style node to the clone's defs\n        defs.appendChild(style);\n      }\n    }\n  };\n\n  return <button onClick={handleDownload}>Download</button>;\n};\n\nexport default DownloadButton;\n"]},"metadata":{},"sourceType":"module"}